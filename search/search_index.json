{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to the Telco Churn Predictor","text":"<p>Stop Churn Before It Happens. \ud83d\ude80</p> <p>A state-of-the-art machine learning solution to identify at-risk customers and take action. Powered by Logistic Regression and Serverless Cloud Architecture.</p>"},{"location":"#quick-links","title":"\ud83d\udcda Quick Links","text":"<ul> <li> <p> User Guide</p> <p>Learn how to use the dashboard and interpret prediction results.</p> </li> <li> <p> Technical Architecture</p> <p>Explore the system design, data flow, and API specifications.</p> </li> <li> <p> Deployment Guide</p> <p>Step-by-step instructions to deploy the model to Azure.</p> </li> <li> <p> API Reference</p> <p>Developer documentation for the inference API.</p> </li> </ul>"},{"location":"#key-features","title":"\u2728 Key Features","text":"<ul> <li>Real-time Predictions: Instant churn probability scores based on customer data.</li> <li>Interactive Dashboard: User-friendly interface to test scenarios.</li> <li>Serverless Architecture: Scalable and cost-effective deployment on Azure.</li> <li>Explainable AI: Transparent model decisions based on key features like Tenure and Monthly Charges.</li> </ul>"},{"location":"deployment/azure/","title":"Azure Deployment Guide","text":"<p>This guide walks you through deploying the Churn Prediction model to Azure Functions using the \"Flex Consumption\" plan.</p>"},{"location":"deployment/azure/#prerequisites","title":"Prerequisites","text":"<p>Before you start, ensure you have the following ready:</p> <ul> <li> An active Azure Subscription.</li> <li> VS Code with the Azure Functions extension installed.</li> <li> The Azure CLI installed and logged in (<code>az login</code>).</li> <li> The project opened in VS Code.</li> </ul>"},{"location":"deployment/azure/#deployment-steps","title":"Deployment Steps","text":""},{"location":"deployment/azure/#1-create-the-function-app-azure-portal","title":"1. Create the Function App (Azure Portal)","text":"<ol> <li>Log in to the Azure Portal.</li> <li>Search for Function App and click Create.</li> <li>Basics Tab:<ul> <li>Plan: Select Flex Consumption.</li> <li>Resource Group: Select your group.</li> <li>Function App Name: Enter a globally unique name (e.g., <code>telco-churn-api</code>).</li> <li>Runtime Stack: Python.</li> <li>Version: 3.11 or 3.12 (Recommended).</li> <li>Region: Select your region (e.g., <code>Switzerland North</code>).</li> </ul> </li> <li>Storage: Use default or existing account.</li> <li>Review + Create: Click create and wait for deployment.</li> </ol>"},{"location":"deployment/azure/#2-configure-local-project","title":"2. Configure Local Project","text":"<p>In your local VS Code environment:</p> <ol> <li>Open the Command Palette (<code>Ctrl+Shift+P</code>).</li> <li>Type: <code>Azure Functions: Create Function</code>.</li> <li>Select HTTP Trigger.</li> <li>Name it <code>predict</code>.</li> <li>Auth Level: Function.</li> </ol> <p>Dependencies</p> <p>Ensure your <code>requirements.txt</code> includes all necessary libraries: <pre><code>azure-functions\nscikit-learn\npandas\njoblib\n</code></pre></p>"},{"location":"deployment/azure/#3-deploy-from-vs-code","title":"3. Deploy from VS Code","text":"<ol> <li>Click the Azure icon in the VS Code sidebar.</li> <li>Under Resources, find your Function App.</li> <li>Right-click the Function App and select Deploy to Function App....</li> <li>Select your project folder.</li> <li>Wait for the deployment to finish.</li> </ol>"},{"location":"deployment/azure/#troubleshooting","title":"\u2753 Troubleshooting","text":""},{"location":"deployment/azure/#cold-start-delays","title":"\"Cold Start\" Delays","text":"<p>Symptom: The first request takes 10+ seconds. Cause: Serverless functions \"sleep\" when not used to save money. Fix: This is normal! Subsequent requests will be fast.</p>"},{"location":"deployment/azure/#module-not-found-error","title":"Module Not Found Error","text":"<p>Symptom: <code>ImportError: No module named 'sklearn'</code> in logs. Fix: Ensure <code>scikit-learn</code> is listed in <code>requirements.txt</code>. Azure only installs packages listed there.</p>"},{"location":"deployment/azure/#verifying-the-deployment","title":"Verifying the Deployment","text":"<p>Once deployed, you can test the API directly.</p> <ol> <li>In the Azure sidebar in VS Code, expand your Function App -&gt; Functions.</li> <li>Right-click <code>predict</code> and select Execute Function Now....</li> <li>Enter the sample JSON body:     <pre><code>{\n    \"tenure\": 24,\n    \"MonthlyCharges\": 70.0,\n    \"TechSupport\": 0,\n    \"ContractMonthToMonth\": 1,\n    \"FiberOptic\": 0\n}\n</code></pre></li> <li>You should receive a response like: <code>{\"prediction\": 0.35}</code>.</li> </ol>"},{"location":"deployment/azure/#connecting-the-dashboard","title":"connecting the Dashboard","text":"<p>Finally, update your Streamlit dashboard to point to the live API.</p> <ol> <li>Open <code>dashboard.py</code>.</li> <li>Find the <code>PROD_API</code> variable.</li> <li>Update it with your function URL (get this from the Azure Portal or VS Code context menu).</li> </ol> <pre><code>PROD_API = \"https://&lt;your-app-name&gt;.azurewebsites.net/api/predict?code=&lt;your-function-key&gt;\"\n</code></pre>"},{"location":"deployment/local-dev/","title":"Local Development Guide","text":"<p>This guide describes how to set up the project on your local machine for development and testing.</p>"},{"location":"deployment/local-dev/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.12+ installed.</li> <li>uv installed (recommended for fast dependency management).</li> <li>VS Code (recommended editor).</li> </ul>"},{"location":"deployment/local-dev/#1-installation","title":"1. Installation","text":"<p>Clone the repository and install dependencies using <code>uv</code>.</p> <pre><code># Clone the repo\ngit clone https://github.com/jay-teaching/group-project-cpp.git\ncd group-project-cpp\n\n# Install dependencies and create a virtual environment\nuv sync\n</code></pre> <p>Standard Pip</p> <p>If you don't use <code>uv</code>, you can standard pip: <code>pip install -r requirements.txt</code>.</p>"},{"location":"deployment/local-dev/#2-running-the-api","title":"2. Running the API","text":"<p>The backbone of the project is the FastAPI application (<code>api.py</code>). You need to run this first so the dashboard has something to talk to.</p> <p><pre><code>uv run uvicorn api:app --reload\n</code></pre> You should see output indicating the server is running at <code>http://127.0.0.1:8000</code>.</p>"},{"location":"deployment/local-dev/#3-running-the-dashboard","title":"3. Running the Dashboard","text":"<p>Open a new terminal window (keep the API running in the first one) and launch Streamlit:</p> <pre><code>uv run streamlit run dashboard.py\n</code></pre> <p>This will automatically open your browser to <code>http://localhost:8501</code>.</p>"},{"location":"deployment/local-dev/#4-development-workflow","title":"4. Development Workflow","text":"<p>The project is set up for hot-reloading.</p> <ul> <li>API Changes: If you modify <code>api.py</code> or <code>prediction.py</code>, the <code>uvicorn</code> server will automatically restart.</li> <li>Dashboard Changes: If you modify <code>dashboard.py</code>, click \"Rerun\" in the top-right corner of the browser (or set it to \"Always Rerun\").</li> </ul>"},{"location":"deployment/local-dev/#5-running-tests","title":"5. Running Tests","text":"<p>We use <code>pytest</code> for ensuring code quality.</p> <pre><code># Run all tests\nuv run pytest\n</code></pre>"},{"location":"technical/api-reference/","title":"API Reference","text":"<p>This section contains auto-generated documentation for the project's modules.</p>"},{"location":"technical/api-reference/#prediction-logic","title":"Prediction Logic","text":"<p>The core machine learning logic using the loaded Joblib model.</p>"},{"location":"technical/api-reference/#prediction","title":"<code>prediction</code>","text":"<p>Minimal Azure Functions predictor for the Telco churn model.</p>"},{"location":"technical/api-reference/#prediction.make_prediction","title":"<code>make_prediction(**kwargs)</code>","text":"<p>Make a churn prediction given the input features.</p> Source code in <code>prediction.py</code> <pre><code>def make_prediction(**kwargs: float) -&gt; float:\n    \"\"\"Make a churn prediction given the input features.\"\"\"\n\n\n    try:\n        data_row = [\n            kwargs[\"tenure\"],\n            kwargs[\"MonthlyCharges\"],\n            kwargs[\"TechSupport\"],           # API key: TechSupport\n            kwargs[\"ContractMonthToMonth\"],  # API key: ContractMonthToMonth\n            kwargs[\"FiberOptic\"]             # API key: FiberOptic\n        ]\n    except KeyError as e:\n\n        raise ValueError(f\"API parameter missing: {e.args[0]}\") from e\n\n\n    features = pd.DataFrame([data_row], columns=pd.Index(MODEL_COLUMNS))\n\n\n    scaled = SCALER.transform(features)\n    prob = float(MODEL.predict_proba(scaled)[0, 1])\n\n    print(f\"Churn probability: {prob:.4f}\")\n    return prob\n</code></pre>"},{"location":"technical/api-reference/#inference-api","title":"Inference API","text":"<p>The FastAPI application that serves the model.</p>"},{"location":"technical/api-reference/#api","title":"<code>api</code>","text":"<p>API for making churn predictions using a FastAPI server.</p> Add fastapi and uvicorn to your environment with <p>uv add fastapi uvicorn</p> <p>To serve the API, run:     uv run uvicorn api:app --reload</p>"},{"location":"technical/api-reference/#api.app","title":"<code>app = FastAPI()</code>  <code>module-attribute</code>","text":""},{"location":"technical/api-reference/#api.Customer","title":"<code>Customer</code>","text":"<p>               Bases: <code>BaseModel</code></p> Source code in <code>api.py</code> <pre><code>class Customer(BaseModel):\n    tenure: int = Field(..., description=\"Number of months the customer has stayed with the company\")\n    monthly_charges: float = Field(..., alias=\"MonthlyCharges\", description=\"The amount charged to the customer monthly\")\n    has_tech_support: bool = Field(..., alias=\"TechSupport\", description=\"Does the customer have tech support?\")\n    is_month_to_month: bool = Field(..., alias=\"ContractMonthToMonth\", description=\"Is the contract month-to-month?\")\n    has_fiber_optic: bool = Field(..., alias=\"FiberOptic\", description=\"Is the internet service fiber optic?\")\n</code></pre>"},{"location":"technical/api-reference/#api.Customer.has_fiber_optic","title":"<code>has_fiber_optic = Field(..., alias='FiberOptic', description='Is the internet service fiber optic?')</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"technical/api-reference/#api.Customer.has_tech_support","title":"<code>has_tech_support = Field(..., alias='TechSupport', description='Does the customer have tech support?')</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"technical/api-reference/#api.Customer.is_month_to_month","title":"<code>is_month_to_month = Field(..., alias='ContractMonthToMonth', description='Is the contract month-to-month?')</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"technical/api-reference/#api.Customer.monthly_charges","title":"<code>monthly_charges = Field(..., alias='MonthlyCharges', description='The amount charged to the customer monthly')</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"technical/api-reference/#api.Customer.tenure","title":"<code>tenure = Field(..., description='Number of months the customer has stayed with the company')</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"technical/api-reference/#api.predict","title":"<code>predict(customer)</code>","text":"<p>Make a churn prediction for a customer.</p> Source code in <code>api.py</code> <pre><code>@app.post(\"/predict\")\ndef predict(customer: Customer):\n    \"\"\"Make a churn prediction for a customer.\"\"\"\n\n    model_input = {\n        \"tenure\": customer.tenure,\n        \"MonthlyCharges\": customer.monthly_charges,\n        \"TechSupport\": customer.has_tech_support,\n        \"ContractMonthToMonth\": customer.is_month_to_month,\n        \"FiberOptic\": customer.has_fiber_optic,\n    }\n\n    prediction = make_prediction(**model_input)\n\n    return {\"prediction\": prediction}\n</code></pre>"},{"location":"technical/api-reference/#api.predict_schema","title":"<code>predict_schema()</code>","text":"<p>Describe the expected fields for /predict.</p> Source code in <code>api.py</code> <pre><code>@app.get(\"/schema\")\ndef predict_schema():\n    \"\"\"Describe the expected fields for /predict.\"\"\"\n    return Customer.model_json_schema()\n</code></pre>"},{"location":"technical/api-reference/#dashboard-utilities","title":"Dashboard Utilities","text":"<p>Helper functions used by the Streamlit dashboard.</p>"},{"location":"technical/api-reference/#dashboard","title":"<code>dashboard</code>","text":""},{"location":"technical/api-reference/#dashboard.fetch_prediction","title":"<code>fetch_prediction(payload)</code>","text":"<p>Call the prediction API and return the JSON response</p> Source code in <code>dashboard.py</code> <pre><code>def fetch_prediction(payload: dict) -&gt; dict:\n    \"\"\"Call the prediction API and return the JSON response\"\"\"\n    response = requests.post(DEV_API, json=payload, timeout=5)\n\n    # --- Testing ---\n    if response.status_code == 422:\n\n        st.error(\"Data Format Error (422)! Details as follows:\")\n        st.json(response.json()) \n        response.raise_for_status() \n    # -------------------\n\n    response.raise_for_status()\n    return response.json()\n</code></pre>"},{"location":"technical/api-reference/#dashboard.fetch_prediction_from_production","title":"<code>fetch_prediction_from_production(params)</code>","text":"<p>Call the production API and return the response.</p> <p>Our serverless function doesnt support JSON in or out Plus we need to increase the timeout for cold starts.</p> Source code in <code>dashboard.py</code> <pre><code>def fetch_prediction_from_production(params: dict) -&gt; dict:\n    \"\"\"Call the production API and return the response.\n\n    Our serverless function doesnt support JSON in or out\n    Plus we need to increase the timeout for cold starts.\n    \"\"\"\n    url = PROD_API + \"&amp;\" + \"&amp;\".join(f\"{k}={v}\" for k, v in params.items())\n    response = requests.get(url, timeout=20)\n    response.raise_for_status()\n    return response\n</code></pre>"},{"location":"technical/architecture/","title":"System Architecture","text":"<p>This section details the technical design of the Telco Churn Prediction system, including the request flow and data processing pipeline.</p>"},{"location":"technical/architecture/#system-flow","title":"System Flow","text":"<p>The application follows a standard Client-Server-Serverless architecture. The User interacts with a Streamlit interface, which proxies requests to an Azure Function hosting the ML model.</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User as \ud83d\udc64 Business User\n    participant Dash as \ud83d\udcca Streamlit Dashboard&lt;br&gt;(Frontend)\n    participant API as \u26a1 Azure Function&lt;br&gt;(Inference API)\n    participant Model as \ud83e\udd16 ML Model&lt;br&gt;(Logistic Regression)\n\n    User-&gt;&gt;Dash: Inputs Customer Data\n    Note right of User: Tenure, Monthly Charges,&lt;br&gt;Services, etc.\n\n    User-&gt;&gt;Dash: Clicks \"Run Prediction\"\n\n    activate Dash\n    Dash-&gt;&gt;Dash: Validates Input\n\n    Dash-&gt;&gt;API: POST /predict (JSON Payload)\n    activate API\n\n    Note right of Dash: Payload matches&lt;br&gt;model features\n\n    API-&gt;&gt;Model: predict_proba(features)\n    activate Model\n    Model--&gt;&gt;API: Probability (0.0 - 1.0)\n    deactivate Model\n\n    API--&gt;&gt;Dash: JSON Response&lt;br&gt;{ \"prediction\": 0.75 }\n    deactivate API\n\n    Dash-&gt;&gt;Dash: Calculate Risk Level &amp;&lt;br&gt;Render Visuals\n\n    Dash--&gt;&gt;User: Displays Risk Meter &amp;&lt;br&gt;Recommendation\n    deactivate Dash</code></pre>"},{"location":"technical/architecture/#data-pipeline","title":"Data Pipeline","text":"<p>The data flows from raw user input through preprocessing before reaching the model. We use <code>scikit-learn</code> pipelines to handle scaling.</p> <pre><code>classDiagram\n    direction LR\n\n    class RawInput {\n        +int tenure\n        +float MonthlyCharges\n        +bool TechSupport\n        +bool ContractMonthToMonth\n        +bool FiberOptic\n    }\n\n    class FeatureEngineering {\n        +DataFrame conversion\n        +StandardScaler scaling\n    }\n\n    class LogisticModel {\n        +predict_proba()\n    }\n\n    RawInput --&gt; FeatureEngineering : transformed by\n    FeatureEngineering --&gt; LogisticModel : fed into\n    LogisticModel --&gt; Prediction : outputs\n\n    note for FeatureEngineering \"Bundled in\\nmodels/telco_logistic_regression.joblib\"</code></pre>"},{"location":"technical/architecture/#components","title":"Components","text":"Component Technology Description Frontend Streamlit Provides the interactive form and visualization of results. API Azure Functions (Python v2) Serverless HTTP trigger that hosts the model. Model Scikit-Learn Logistic Regression model trained on IBM Telco dataset. Container Docker (Optional) Used for consistent development environments."},{"location":"user-guide/dashboard/","title":"Dashboard User Guide","text":"<p>The Telco Churn Prediction Dashboard allows you to interactively test the model with customer data.</p>"},{"location":"user-guide/dashboard/#user-journey","title":"User Journey","text":"<pre><code>graph LR\n    A[\ud83d\udc64 Login] --&gt; B[\ud83d\udcdd Input Data]\n    B --&gt; C{\u26a1 Run Prediction}\n    C --&gt;|Low Risk| D[\u2705 No Action]\n    C --&gt;|High Risk| E[\ud83c\udf81 Notify, want to preform an action, like Offer Discount or something]\n    style C fill:#f9f,stroke:#333,stroke-width:2px</code></pre>"},{"location":"user-guide/dashboard/#interface-overview","title":"Interface Overview","text":"<p>The dashboard is divided into three main sections:</p> <ol> <li>Customer Profile Form: Input fields for customer data.</li> <li>Logic &amp; Control: The \"Run Prediction\" button.</li> <li>Results Display: The risk probability and recommendation.</li> </ol> <p></p>"},{"location":"user-guide/dashboard/#1-customer-profile-inputs","title":"1. Customer Profile Inputs","text":"<p>Enter the customer's current details in the form.</p> <p>Scenario: Meet Bob \ud83d\udc68</p> <p>Bob has been with us for only 2 months (New customer). He pays $90/month (High bill) and is on a Month-to-Month contract.</p> <ul> <li>Expectation: Bob is likely High Risk.</li> <li>Action: Input <code>Tenure=2</code>, <code>Monthly=$90</code>, <code>Contract=Month-to-Month</code>.</li> </ul> <p>Tip: Default Values</p> <p>The form comes pre-filled with \"average\" customer values to help you get started quickly.</p> Field Type Range/Values Description Tenure Slider 0 - 120 months How long the customer has been with the company. Monthly Charges Number $0 - $1000 Current monthly bill amount. Tech Support Checkbox Yes / No Subscribed to technical support service? Fiber Optic Checkbox Yes / No Using high-speed Fiber Optic internet? Month-to-Month Checkbox Yes / No Is the contract flexible (monthly)?"},{"location":"user-guide/dashboard/#2-running-a-prediction","title":"2. Running a Prediction","text":"<p>Once you have entered the data, click the Run Prediction button.</p> <p>Processing Time</p> <p>The first prediction might take a few seconds if the Azure Function is \"cold\". Subsequent requests will be much faster.</p>"},{"location":"user-guide/dashboard/#3-understanding-the-results","title":"3. Understanding the Results","text":"<p>The dashboard will display a Churn Probability score.</p> <ul> <li>Low Risk \u2705: The customer is happy and unlikely to leave.</li> <li>High Risk \u26a0\ufe0f: The customer shows signs of churning. Consider offering a retention incentive.</li> </ul> <p>Next Step: Learn how to Interpret Predictions in more detail.</p>"},{"location":"user-guide/interpreting-predictions/","title":"Interpreting Predictions","text":"<p>Understanding how the model makes decisions, and what the risk score means, is crucial for business action.</p>"},{"location":"user-guide/interpreting-predictions/#the-risk-score","title":"The Risk Score","text":"<p>The model outputs a probability between 0% (0.00) and 100% (1.00).</p>"},{"location":"user-guide/interpreting-predictions/#probability-cheat-sheet","title":"\u26a1 Probability Cheat Sheet","text":"Score Risk Level Recommended Action 0% - 30% \ud83d\udfe2 Low No action needed. Customer is happy. 30% - 70% \ud83d\udfe1 Medium Monitor. Check if they have a support ticket open. 70% - 100% \ud83d\udd34 High Act Now! Offer a discount or schedule a call. <p>The dashboard uses a visual Risk Meter to represent this:</p> <pre><code>graph LR\n    A[0%] --&gt;|Safe| B[50%]\n    B --&gt;|Danger| C[100%]\n    style A fill:#4caf50,stroke:#333,stroke-width:2px\n    style B fill:#ff9800,stroke:#333,stroke-width:2px\n    style C fill:#f44336,stroke:#333,stroke-width:2px</code></pre>"},{"location":"user-guide/interpreting-predictions/#key-drivers-of-churn","title":"Key Drivers of Churn","text":"<p>Our model uses Logistic Regression, which is like a straightforward \"points system\". It assigns positive or negative points to customer features to calculate the total risk.</p>"},{"location":"user-guide/interpreting-predictions/#factors-that-reduce-churn-good","title":"\ud83d\udd3b Factors that REDUCE Churn (Good)","text":"<ul> <li>High Tenure: Long-term customers are less likely to leave.</li> <li>Tech Support: Customers who engage with support services tend to stick around.</li> <li>Contracts: Long-term contracts (1-year, 2-year) provide stability.</li> </ul>"},{"location":"user-guide/interpreting-predictions/#factors-that-increase-churn-bad","title":"\ud83d\udd3a Factors that INCREASE Churn (Bad)","text":"<ul> <li>Month-to-Month Contracts: Flexible contracts make it easier for customers to switch providers.</li> <li>Fiber Optic Service: Surprisingly, Fiber Optic users churn more often (possibly due to high price or competition).</li> <li>High Monthly Charges: Higher bills correlate with higher churn risk.</li> </ul> <p>Why does Fiber Optic increase churn?</p> <p>This is a common question! It might be because fiber customers are more \"tech-savvy\" and price-sensitive, frequently switching to get the best deal, or simply that the fiber service has higher competition in the market.</p>"},{"location":"user-guide/interpreting-predictions/#confidence-accuracy","title":"Confidence &amp; Accuracy","text":"<p>The model uses Logistic Regression, which is highly interpretable. It achieves an accuracy of approximately 80% on the test dataset.</p> <ul> <li>False Positives: Predicting a customer will churn when they stay. (Risk: We waste money on retention offers).</li> <li>False Negatives: Predicting a customer will stay when they leave. (Risk: We lose a customer unexpectedly).</li> </ul> <p>The threshold of 50% is a balanced starting point, but you can mentally adjust this. For example, if you want to be very aggressive in retaining customers, you might treat anything above 40% as \"at risk\".</p>"}]}